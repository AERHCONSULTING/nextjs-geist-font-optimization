(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(5155);r(2115);var s=r(9708),n=r(2085),i=r(9434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:n,className:t})),...d})}},347:()=>{},1075:(e,t,r)=>{"use strict";r.d(t,{Navigation:()=>y});var a=r(5155),s=r(6874),n=r.n(s),i=r(2115),l=r(285),o=r(237),d=r(4416),c=r(9434);function m(e){let{...t}=e;return(0,a.jsx)(o.bL,{"data-slot":"sheet",...t})}function u(e){let{...t}=e;return(0,a.jsx)(o.l9,{"data-slot":"sheet-trigger",...t})}function h(e){let{...t}=e;return(0,a.jsx)(o.ZL,{"data-slot":"sheet-portal",...t})}function x(e){let{className:t,...r}=e;return(0,a.jsx)(o.hJ,{"data-slot":"sheet-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function g(e){let{className:t,children:r,side:s="right",...n}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(o.UC,{"data-slot":"sheet-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===s&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===s&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===s&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===s&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[r,(0,a.jsxs)(o.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(d.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}var b=r(1868),f=r(8311),v=r(6126),p=r(5695);let j=[{href:"/",label:"Tableau de bord"},{href:"/pilotage",label:"Pilotage d'entreprise"},{href:"/chiffre-affaires",label:"D\xe9veloppement CA"},{href:"/gestion",label:"Gestion d'entreprise"},{href:"/investissement",label:"Investissement"},{href:"/difficultes",label:"Entreprises en difficult\xe9s"},{href:"/management",label:"Management"},{href:"/creation",label:"Cr\xe9ation d'entreprise"},{href:"/ai-advice",label:"Conseil IA"}],N=[{href:"/profile",label:"Mon Profil"}];function y(){let[e,t]=(0,i.useState)(!1),{user:r,isAuthenticated:s,logout:o,isLoading:d}=(0,b.A)(),{isDemoMode:c,demoTimeLeft:h,endDemo:x}=(0,f.z)(),y=(0,p.useRouter)(),w=async()=>{await o()},k=()=>{x(),y.push("/")};return d?(0,a.jsx)("header",{className:"border-b border-emerald-300 bg-white/95 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,a.jsx)(n(),{href:"/",className:"text-2xl font-bold text-emerald-700",children:"AERH CONSULTING TAHITI"}),(0,a.jsx)("div",{className:"text-sm text-emerald-600",children:"Chargement..."})]})})}):(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)("div",{className:"bg-orange-100 border-b border-orange-200 py-2",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(v.E,{variant:"outline",className:"bg-orange-200 text-orange-800 border-orange-300",children:"\uD83C\uDFAF MODE D\xc9MO ACTIF"}),(0,a.jsxs)(v.E,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:["⏱️ Temps restant: ",(0,f.U)(h)]}),(0,a.jsx)("span",{className:"text-sm text-orange-700",children:"Explorez toutes les fonctionnalit\xe9s gratuitement"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n(),{href:"/pricing-stripe",children:(0,a.jsx)(l.$,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"S'abonner"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",className:"border-red-500 text-red-700 hover:bg-red-50",onClick:k,children:"Quitter la d\xe9mo"})]})]})})}),(0,a.jsx)("header",{className:"border-b border-emerald-300 bg-white/95 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,a.jsx)(n(),{href:"/",className:"text-2xl font-bold text-emerald-700",children:"AERH CONSULTING TAHITI"}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-2",children:[(0,a.jsx)(n(),{href:"/guide",className:"px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors border border-blue-300",children:"Guide d'utilisation"}),!s&&!c&&(0,a.jsx)(n(),{href:"/demo",className:"px-3 py-2 text-sm font-medium text-orange-600 hover:bg-orange-50 hover:text-orange-700 rounded-lg transition-colors border border-orange-300",children:"\uD83C\uDFAF Essayer la d\xe9mo"}),s?(0,a.jsxs)(a.Fragment,{children:[j.map(e=>(0,a.jsx)(n(),{href:e.href,className:"px-3 py-2 text-sm font-medium text-emerald-700 hover:bg-emerald-100 hover:text-emerald-800 rounded-lg transition-colors",children:e.label},e.href)),(null==r?void 0:r.role)==="admin"&&N.map(e=>(0,a.jsx)(n(),{href:e.href,className:"px-3 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors",children:e.label},e.href)),(0,a.jsxs)("div",{className:"flex items-center space-x-3 ml-4 pl-4 border-l border-emerald-300",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-emerald-700",children:null==r?void 0:r.name}),(null==r?void 0:r.role)==="admin"&&(0,a.jsx)(v.E,{variant:"default",className:"bg-emerald-600 text-white",children:"Admin"})]}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",className:"border-emerald-500 text-emerald-700 hover:bg-emerald-50",onClick:w,children:"D\xe9connexion"})]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n(),{href:"/pricing-stripe",children:(0,a.jsx)(l.$,{className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"Abonnez-vous"})}),(0,a.jsx)(n(),{href:"/login",className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"D\xe9j\xe0 client ?"})]})]}),(0,a.jsxs)(m,{open:e,onOpenChange:t,children:[(0,a.jsx)(u,{asChild:!0,className:"md:hidden",children:(0,a.jsx)(l.$,{variant:"outline",size:"sm",className:"border-emerald-500 text-emerald-700",children:"Menu"})}),(0,a.jsx)(g,{side:"right",className:"w-80 bg-white/95 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4 mt-8",children:[c&&(0,a.jsxs)("div",{className:"pb-4 border-b border-orange-200 bg-orange-50 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(v.E,{variant:"outline",className:"bg-orange-100 text-orange-700 border-orange-300",children:"\uD83C\uDFAF MODE D\xc9MO"}),(0,a.jsxs)(v.E,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-300",children:["⏱️ ",(0,f.U)(h)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n(),{href:"/pricing-stripe",onClick:()=>t(!1),children:(0,a.jsx)(l.$,{size:"sm",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:"S'abonner maintenant"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",className:"w-full border-red-500 text-red-700 hover:bg-red-50",onClick:()=>{k(),t(!1)},children:"Quitter la d\xe9mo"})]})]}),(0,a.jsx)(n(),{href:"/guide",className:"text-lg font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 p-2 rounded-lg transition-colors border border-blue-300",onClick:()=>t(!1),children:"Guide d'utilisation"}),!s&&!c&&(0,a.jsx)(n(),{href:"/demo",className:"text-lg font-medium text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-2 rounded-lg transition-colors border border-orange-300",onClick:()=>t(!1),children:"\uD83C\uDFAF Essayer la d\xe9mo"}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"pb-4 border-b border-emerald-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-emerald-700",children:null==r?void 0:r.name}),(null==r?void 0:r.role)==="admin"&&(0,a.jsx)(v.E,{variant:"default",className:"bg-emerald-600 text-white",children:"Admin"})]}),(0,a.jsx)("p",{className:"text-xs text-emerald-600",children:null==r?void 0:r.email})]}),j.map(e=>(0,a.jsx)(n(),{href:e.href,className:"text-lg font-medium text-emerald-700 hover:text-emerald-800 hover:bg-emerald-50 p-2 rounded-lg transition-colors",onClick:()=>t(!1),children:e.label},e.href)),(null==r?void 0:r.role)==="admin"&&N.map(e=>(0,a.jsx)(n(),{href:e.href,className:"text-lg font-medium text-white bg-emerald-600 hover:bg-emerald-700 p-2 rounded-lg transition-colors",onClick:()=>t(!1),children:e.label},e.href)),(0,a.jsx)(l.$,{variant:"outline",className:"w-full mt-4 border-emerald-500 text-emerald-700 hover:bg-emerald-50",onClick:()=>{w(),t(!1)},children:"D\xe9connexion"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/pricing-stripe",onClick:()=>t(!1),children:(0,a.jsx)(l.$,{className:"w-full mb-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:"Abonnez-vous"})}),(0,a.jsx)(n(),{href:"/login",onClick:()=>t(!1),children:(0,a.jsx)(l.$,{variant:"outline",className:"w-full border-gray-400 text-gray-600 hover:bg-gray-50",children:"D\xe9j\xe0 client ?"})})]})]})})]})]})})})]})}},1868:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>i});var a=r(5155),s=r(2115);let n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[l,o]=(0,s.useState)(!0),d=async()=>{try{let e=await fetch("/api/login",{method:"GET",credentials:"include"});if(e.ok){await e.json();let t=localStorage.getItem("userEmail"),r=localStorage.getItem("userRole");t&&r&&i({email:t,name:"admin"===r?"Administrateur AERH CONSULTING TAHITI":"Utilisateur",role:r})}else i(null),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail")}catch(e){console.error("Erreur lors de la v\xe9rification d'authentification:",e),i(null)}finally{o(!1)}},c=async(e,t)=>{try{let r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),credentials:"include"});if(r.ok){let t=await r.json();return localStorage.setItem("authToken",t.token),localStorage.setItem("userRole",t.role),localStorage.setItem("userEmail",e),i({email:t.user.email,name:t.user.name,role:t.user.role}),!0}return!1}catch(e){return console.error("Erreur lors de la connexion:",e),!1}},m=async()=>{try{await fetch("/api/login",{method:"DELETE",credentials:"include"})}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}finally{i(null),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),window.location.href="/login"}};return(0,s.useEffect)(()=>{d()},[]),(0,a.jsx)(n.Provider,{value:{user:r,isAuthenticated:!!r,isLoading:l,login:c,logout:m,checkAuth:d},children:t})}function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(5155);r(2115);var s=r(9708),n=r(2085),i=r(9434);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,asChild:n=!1,...o}=e,d=n?s.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:r}),t),...o})}},8311:(e,t,r)=>{"use strict";r.d(t,{DemoProvider:()=>i,U:()=>o,z:()=>l});var a=r(5155),s=r(2115);let n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(!1),[l,o]=(0,s.useState)(0),[d,c]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("demo_start_time");if(e){let t=parseInt(e),r=Date.now()-t;r<18e5?(i(!0),c(t),o(18e5-r)):localStorage.removeItem("demo_start_time")}},[]),(0,s.useEffect)(()=>{let e;return r&&d&&(e=setInterval(()=>{let e=18e5-(Date.now()-d);e<=0?m():o(e)},1e3)),()=>{e&&clearInterval(e)}},[r,d]);let m=()=>{i(!1),c(null),o(0),localStorage.removeItem("demo_start_time")};return(0,a.jsx)(n.Provider,{value:{isDemoMode:r,demoTimeLeft:l,startDemo:()=>{let e=Date.now();i(!0),c(e),o(18e5),localStorage.setItem("demo_start_time",e.toString())},endDemo:m,extendDemo:()=>{let e=Date.now();c(e),o(18e5),localStorage.setItem("demo_start_time",e.toString())}},children:t})}function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useDemo must be used within a DemoProvider");return e}function o(e){let t=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3);return"".concat(t,":").concat(r.toString().padStart(2,"0"))}},9266:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,8346,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,1868)),Promise.resolve().then(r.bind(r,8311)),Promise.resolve().then(r.bind(r,1075))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[2191,7690,4277,9438,1889,3933,8441,1684,7358],()=>t(9266)),_N_E=e.O()}]);